<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Job Dashboard</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f5f5f5;
  }
  .tabs {
    display: flex;
    margin-bottom: 20px;
  }
  .tabs button {
    flex: 1;
    padding: 10px;
    margin-right: 5px;
    border: none;
    background: #ddd;
    cursor: pointer;
    font-size: 16px;
  }
  .tabs button.active {
    background: #4CAF50;
    color: white;
  }
  .job-list button {
    display: block;
    width: 100%;
    padding: 15px;
    margin-bottom: 10px;
    border: none;
    background: white;
    text-align: left;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  .job-detail {
    background: white;
    padding: 15px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    margin-top: 20px;
  }
  .applicants button {
    display: block;
    width: 100%;
    padding: 10px;
    margin-bottom: 5px;
    border: 1px solid #ccc;
    background: #fafafa;
    text-align: left;
    cursor: default;
  }
</style>
</head>
<body>

<div class="tabs">
  <button id="postedBtn" class="active">งานที่ว่าจ้าง</button>
  <button id="appliedBtn">งานที่สมัคร</button>
</div>

<div class="job-list" id="jobList">
  <!-- Buttons งานจะถูกเพิ่มโดย JS -->
</div>

<div class="job-detail" id="jobDetail" style="display:none;">
  <h3 id="jobTitle"></h3>
  <p id="jobDescription"></p>
  <p><strong>กำหนดเวลา:</strong> <span id="jobDeadline"></span></p>
  <h4>ผู้จ้างวาน/ผู้รับงาน:</h4>
  <div class="applicants" id="applicantList">
    <!-- รายชื่อผู้รับงาน -->
  </div>
</div>

<script>
  const jobsPosted = [
    { id: 1, title: "เอกสารคณะแพทย์", description: "Create Authenticate API", deadline: "2025-09-15", applicants: ["John Doe", "Johny Den"] },
    { id: 2, title: "เอกสารคณะแพทย์", description: "Design IT web", deadline: "2025-09-20", applicants: ["Alice Wong"] }
  ];

  const jobsApplied = [
    { id: 3, title: "เอกสารคณะวิทยาศาสตร์", description: "Create API for REG", deadline: "2025-09-18", applicants: ["คุณ"] },
    { id: 4, title: "เอกสารคณะวิทยาศาสตร์", description: "Design CS web", deadline: "2025-09-22", applicants: ["คุณ"] },
    { id: 5, title: "เอกสารคณะวิทยาศาสตร์", description: "Create Full Stack Web of E-commerce", deadline: "2025-09-30", applicants: ["คุณ"] }
  ];

  const jobListEl = document.getElementById("jobList");
  const jobDetailEl = document.getElementById("jobDetail");
  const jobTitleEl = document.getElementById("jobTitle");
  const jobDescriptionEl = document.getElementById("jobDescription");
  const jobDeadlineEl = document.getElementById("jobDeadline");
  const applicantListEl = document.getElementById("applicantList");

  let currentJobs = jobsPosted;

  function renderJobs() {
    jobListEl.innerHTML = "";
    currentJobs.forEach(job => {
      const btn = document.createElement("button");
      btn.textContent = job.title;
      btn.onclick = () => showJobDetail(job);
      jobListEl.appendChild(btn);
    });
    jobDetailEl.style.display = "none";
  }

  function showJobDetail(job) {
    jobTitleEl.textContent = job.title;
    jobDescriptionEl.textContent = job.description;
    jobDeadlineEl.textContent = job.deadline;

    applicantListEl.innerHTML = "";
    job.applicants.forEach(name => {
      const btn = document.createElement("button");
      btn.textContent = name;
      applicantListEl.appendChild(btn);
    });

    jobDetailEl.style.display = "block";
  }

  document.getElementById("postedBtn").onclick = () => {
    currentJobs = jobsPosted;
    document.getElementById("postedBtn").classList.add("active");
    document.getElementById("appliedBtn").classList.remove("active");
    renderJobs();
  }

  document.getElementById("appliedBtn").onclick = () => {
    currentJobs = jobsApplied;
    document.getElementById("appliedBtn").classList.add("active");
    document.getElementById("postedBtn").classList.remove("active");
    renderJobs();
  }

  // เริ่มต้นแสดงงานที่ว่าจ้าง
  renderJobs();
</script>

</body>
</html>
